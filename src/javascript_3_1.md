# 3.1. 関数の仮引数の追加

<!-- TOC -->

- [3.1. 関数の仮引数の追加](#31-関数の仮引数の追加)
  - [Step 0 - 最初のコード](#step-0---最初のコード)
  - [Step 1 - 仮引数を追加する](#step-1---仮引数を追加する)
  - [Step 2 - 仮引数を使用する](#step-2---仮引数を使用する)
  - [Step 3 - 呼び出し側に引数を追加する](#step-3---呼び出し側に引数を追加する)
  - [Step 4 - テストコードを追加する](#step-4---テストコードを追加する)
  - [Step 5 - 仮引数のデフォルト値を消す](#step-5---仮引数のデフォルト値を消す)

<!-- /TOC -->

## Step 0 - 最初のコード

``` js
// テストコード
it('0 を返すこと', () => {
  expect(adhoc()).toBe(0)
})
```

``` js
// プロダクトコード org
function adhoc() {
  return 0
}
```

オーバーロードのない JavaScript では、関数呼び出しに仮引数の数や型は関係ないため、追加は楽です。

## Step 1 - 仮引数を追加する

``` js
// プロダクトコード
function adhoc(value=0) {   // <- デフォルト値付きで仮引数を追加します。
  return 0
}
```

## Step 2 - 仮引数を使用する

``` js
// プロダクトコード
function adhoc(value=0) {
  return value                // <-　仮引数を使うように変えます。
}
```

## Step 3 - 呼び出し側に引数を追加する

``` js
// テストコード
it('0 を返すこと', () => {
  expect(adhoc(0)).toBe(0)    // <- 呼び出す側に引数を追加します。
})
```

## Step 4 - テストコードを追加する

adhoc 関数で引数を利用するコードに直したかどうか不安です。ミスがあるかもしれません。テストを追加して、三角測量が効くようにします。

``` js
// テストコード
it('0 を返すこと', () => {
  expect(adhoc(0)).toBe(0)
})
it('1 を返すこと', () => {      // <- 引数が使われていることを確認するテストを追加します。
  expect(adhoc(0)).toBe(1)    // <- エラーになるように書きます。
})
```

``` js
// テストコード
it('0 を返すこと', () => {
  expect(adhoc(0)).toBe(0)
})
it('1 を返すこと', () => {
  expect(adhoc(1)).toBe(1)    // <- 正しい引数に直します。
})
```

## Step 5 - 仮引数のデフォルト値を消す

``` js
function adhoc(value) {       // <-　デフォルト値を消します。
  return value
}
```

---

&copy; 2020 Tommy@[Degino Inc.](https://www.degino.com/)
