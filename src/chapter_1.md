# 1. Refactoring とは

<!-- TOC -->

- [1. Refactoring とは](#1-refactoring-とは)
  - [1.1. Refactoring について](#11-refactoring-について)
  - [1.2. Refactoring カタログについて](#12-refactoring-カタログについて)

<!-- /TOC -->

## 1.1. Refactoring について

リファクタリングは、テストが通る状態を維持したまま、プロダクトコードの質を高めてゆくことです。

"一通り実装を済ませて、あとで整える" ことをリファクタリングと読んでいる現場もありますが、その方法を採用すると、おそらくほとんど整えられることなく、リリースを迎えることになる現実が待っているでしょう。そして、障害発生の度に、誰かが苦悩することになります。

本来のリファクタリングは、 **怪しい匂い** を感じたらすぐに行うものです。開発速度を落とさないように、整ったコード (CLEAN コード) を維持し続けるのです。

- C ohesive (凝集性)
- L oosely Coupled (疎結合)
- E ncapsulated (カプセル化)
- A ssertive (断定的)
- N onredundant (非冗長)

出典: [レガシーコードからの脱却](https://www.amazon.co.jp/dp/4873118867)

## 1.2. Refactoring カタログについて

この *Refactoring カタログ* は、1行単位で細かく書くことにしました。リファクタリングや TDD に関する書籍では、もう少し大きな単位でコードが書かれていますが、未経験者にとっては、実際の手順が分かりにくいのではないでしょうか。そこでこのカタログでは、ステップ毎に細かくトレースすることにしました。

一見すると、無駄な手順を踏んでいるように思われるかもしれません。しかし、確実に動くことが分かっている単位で、細かく刻んで進んでゆくことで、ハマることなく、スムーズにコードの改善が進んでゆくので、慣れてしまえば高速に開発できるようになります。悩んたり、ハマったりして、時間がどんどん溶けてゆく…そんなプログラマーの日常を激変させるのがリファクタリングテクニックと言えます。

初級では、ごく基本的なものを紹介します。リファクタリングをサポートする IDE やエディターを利用している場合は、初級のテクニックを使うことはないかもしれません。 IDE に任せた方が素早く安全にリファクタリングできます。ただ、一時的なバイパスを作って、少しずつ整理されたコードへ置き換えてゆくパターンは、以後の複雑なリファクタリングの基礎となるものです。 IDE やエディターのサポートがなくても自然にできるように、体にインストールしておくことは損にはならないでしょう。

---

&copy; 2020 Tommy@degino Inc.
